!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("glissando"),require("mithril")):"function"==typeof define&&define.amd?define(["exports","glissando","mithril"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).glissandoMithril={},e.glissando,e.m)}(this,function(e,c,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=n(t);Object.defineProperty(e,"GlissandoModel",{enumerable:!0,get:function(){return c.GlissandoModel}}),Object.defineProperty(e,"getSliderStyle",{enumerable:!0,get:function(){return c.getSliderStyle}}),e.GlissandoSlider=e=>{var{model:e}=e.attrs;const{getState:o,finalize:t,setCount:r,setDirection:s,getViewIndices:l,goTo:a,setLocations:d}=e,u=e=>{t(o().targetIndex)};return{onupdate:({dom:e,children:t,attrs:n})=>{var{locations:i,location:n}=n,t=t.length;t!==o().count&&r(t),i&&JSON.stringify(i)!==JSON.stringify(o().locations)&&d(i),n&&n!==o().location&&a({location:n});var{direction:e}=getComputedStyle(e);e!==o().direction&&s(e)},view:({children:t,attrs:e})=>{if(!t)return null;var{className:n}=e,{className:i,style:e}=c.getSliderStyle(o());return f.default(`.glissando ${n}`,f.default(".glissando-slider",{oncreate:e=>{e.dom.addEventListener("transitionend",u)},onremove:e=>{e.dom.removeEventListener("transitionend",u)},className:i,style:e},l().map(e=>f.default(".glissando-page",t[e]))))}}},e.useGlissandoModel=e=>{const t=c.GlissandoModel(e);return t.getState.map(f.default.redraw),t},Object.defineProperty(e,"__esModule",{value:!0})});
