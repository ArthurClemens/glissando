!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("glissando"),require("mithril")):"function"==typeof define&&define.amd?define(["exports","glissando","mithril"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).glissandoMithril={},e.glissando,e.m)}(this,(function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=i(n);Object.defineProperty(e,"GlissandoModel",{enumerable:!0,get:function(){return t.GlissandoModel}}),Object.defineProperty(e,"getSliderStyle",{enumerable:!0,get:function(){return t.getSliderStyle}}),e.GlissandoSlider=e=>{const{model:n}=e.attrs,{getState:i,finalize:s,setCount:l,setDirection:r,getViewIndices:d,goTo:a,setLocations:c}=n,u=e=>{s(i().targetIndex)};return{onupdate:({dom:e,children:t,attrs:n})=>{const{locations:o,location:s}=n,d=t.length;d!==i().count&&l(d),o&&JSON.stringify(o)!==JSON.stringify(i().locations)&&c(o),s&&s!==i().location&&a({location:s});const{direction:u}=getComputedStyle(e);u!==i().direction&&r(u)},view:({children:e,attrs:n})=>{if(!e)return null;const{className:s}=n,{className:l,style:r}=t.getSliderStyle(i());return o.default("div",{className:["glissando",s].join(" ")},o.default(".glissando-slider",{oncreate:e=>{e.dom.addEventListener("transitionend",u)},onremove:e=>{e.dom.removeEventListener("transitionend",u)},className:l,style:r},d().map((t=>o.default(".glissando-page",e[t])))))}}},e.useGlissandoModel=e=>{const n=t.GlissandoModel(e);return n.getState.map(o.default.redraw),n},Object.defineProperty(e,"__esModule",{value:!0})}));
