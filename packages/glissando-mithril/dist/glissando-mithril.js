!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("glissando"),require("mithril")):"function"==typeof define&&define.amd?define(["exports","glissando","mithril"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).glissandoMithril={},e.glissando,e.m)}(this,function(e,f,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=n(t);Object.defineProperty(e,"GlissandoModel",{enumerable:!0,get:function(){return f.GlissandoModel}}),Object.defineProperty(e,"getSliderStyle",{enumerable:!0,get:function(){return f.getSliderStyle}}),e.GlissandoSlider=function(e){function o(e){t(r().targetIndex)}var e=e.attrs.model,r=e.getState,t=e.finalize,l=e.setCount,s=e.setDirection,a=e.getViewIndices,d=e.goTo,u=e.setLocations;return{onupdate:function(e){var t=e.dom,n=e.children,i=e.attrs,e=i.locations,i=i.location,n=n.length;n!==r().count&&l(n),e&&JSON.stringify(e)!==JSON.stringify(r().locations)&&u(e),i&&i!==r().location&&d({location:i});t=getComputedStyle(t).direction;t!==r().direction&&s(t)},view:function(e){var t=e.children,n=e.attrs;if(!t)return null;var i=n.className,e=f.getSliderStyle(r()),n=e.className,e=e.style;return c.default(".glissando "+i,c.default(".glissando-slider",{oncreate:function(e){e.dom.addEventListener("transitionend",o)},onremove:function(e){e.dom.removeEventListener("transitionend",o)},className:n,style:e},a().map(function(e){return c.default(".glissando-page",t[e])})))}}},e.useGlissandoModel=function(e){e=f.GlissandoModel(e);return e.getState.map(c.default.redraw),e},Object.defineProperty(e,"__esModule",{value:!0})});
