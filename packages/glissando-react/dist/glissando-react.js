!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react/jsx-runtime"),require("@huse/effect-ref"),require("glissando"),require("react"),require("use-stream")):"function"==typeof define&&define.amd?define(["exports","react/jsx-runtime","@huse/effect-ref","glissando","react","use-stream"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).glissandoReact={},e.jsxRuntime,e.effectRef,e.glissando,e.react,e.useStream)}(this,(function(e,t,n,i,r,s){"use strict";var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(e,"GlissandoModel",{enumerable:!0,get:function(){return i.GlissandoModel}}),Object.defineProperty(e,"getSliderStyle",{enumerable:!0,get:function(){return i.getSliderStyle}}),e.GlissandoSlider=function(e){var s=e.model,a=e.children,u=e.locations,l=e.location,c=e.className,f=r.useState(),d=f[0],g=f[1],m=s.getState,v=s.finalize,p=s.setCount,y=s.setDirection,S=s.getViewIndices,j=s.setLocations,h=s.goTo;r.useEffect((function(){var e=(a||[]).length;e!==m().count&&p(e)}),[a,m,p]),r.useEffect((function(){u&&JSON.stringify(u)!==JSON.stringify(m().locations)&&j(u)}),[u]),r.useEffect((function(){l&&l!==m().location&&h({location:l})}),[l]);var x=r.useCallback((function(e){if(null===e)return t.jsx(t.Fragment,{},void 0);g(e);var n=function(e){v(m().targetIndex)};return e.addEventListener("transitionend",n),function(){e.removeEventListener("transitionend",n)}}),[]);r.useEffect((function(){if(d){var e=getComputedStyle(d).direction;e!==m().direction&&y(e)}}),[e]);var b=n.useEffectRef((function(e){return x(e)}));if(!a)return t.jsx(t.Fragment,{},void 0);var O=i.getSliderStyle(m()),E=O.className,N=O.style;return t.jsx("div",o({className:["glissando",c].join(" ")},{children:t.jsx("div",o({className:"glissando-slider "+E,style:N,ref:b},{children:S().map((function(e){return t.jsx("div",o({className:"glissando-page"},{children:a[e]}),e)}))}),void 0)}),void 0)},e.useGlissandoModel=function(e){var t=r.useState(i.GlissandoModel(e))[0];return s.useStream({model:function(){return{_:t.getState}},defer:!0}),t},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=glissando-react.js.map
